<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      href="https://sdmntprwestus2.oaiusercontent.com/files/00000000-a0a0-61f8-8c71-9d6e120afe3b/raw?se=2025-04-12T09%3A54%3A23Z&sp=r&sv=2024-08-04&sr=b&scid=e9ee009b-7b40-5c13-bd79-91ccf169ba68&skoid=a3336399-497e-45e5-8f28-4b88ecca3d1f&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-04-12T00%3A42%3A55Z&ske=2025-04-13T00%3A42%3A55Z&sks=b&skv=2024-08-04&sig=Y3bxYrrwB2X8ZZO5DgJTUTKNWbv5BMz8B2lCeyZtKZA%3D"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>学生活动平台</title>
  </head>
  <body>
    <div id="app">
    </div>
    <script type="module" src="/src/main.js"></script>
    <!-- 引入SDK -->
    <script src="https://lf-cdn.coze.cn/obj/unpkg/flow-platform/chat-app-sdk/1.2.0-beta.6/libs/cn/index.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        try {
          const client = new CozeWebSDK.WebChatClient({
            config: {
              bot_id: "7493360228571250723",
              knowledge_base_id: "7493360907298701348",
              force_knowledge_base: true,
              app_info: {
                app_id: "7469983042153562153",
                workflow_id: "7493464073612689460",
              },
            },
            componentProps: {
              title: "活动查询助手",
            },
            auth: {
              type: "token",
              token:
                "pat_0dEZZiTdSQ44P0vNSjE0yLwmrVJ8qQrRZFfRCJWPjcB60I01c1UGnbq6wvIsBuck",
              onRefreshToken: function () {
                return "pat_0dEZZiTdSQ44P0vNSjE0yLwmrVJ8qQrRZFfRCJWPjcB60I01c1UGnbq6wvIsBuck";
              },
            },
            ui: {
              asstBtn: {
                isNeed: true,
              },
              chatBot: {
                title: "活动小助手",
                uploadable: true,
                width: 850,
              },
              // 注释掉本地文件路径，或改为网络URL
              // base: { icon: "https://你的域名/图标路径.svg" },
            },
            // 添加事件监听，便于调试
            events: {
              onInit: () => console.log("SDK初始化成功"),
              onError: (err) => console.error("SDK错误:", err),
            },
          });

          console.log("SDK初始化完成");
        } catch (e) {
          console.error("初始化SDK时出错:", e);
        }
      });
    </script>
  </body>
</html>
